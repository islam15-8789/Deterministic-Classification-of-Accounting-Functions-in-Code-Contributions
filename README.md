# **Deterministic Classification of Accounting Functions in Code Contributions**

A CLI tool for fetching GitHub commit data and processing commit messages into a structured CSV format.

---

## **Table of Contents**
1. [Features](#features)
2. [Installation](#installation)
3. [Usage](#usage)
    - [Fetch Commits](#fetch-commits)
    - [Extract Commit Messages](#extract-commit-messages)
4. [Directory Structure](#directory-structure)
5. [Contributing](#contributing)
6. [License](#license)

---

## **Features**
- Fetches commits from a list of GitHub repositories provided in a JSON file.
- Saves commit data in separate JSON files for each repository.
- Extracts commit messages from JSON files into a CSV file with columns:
  1. **Serial Number**
  2. **Commit Message**
  3. **Label (empty for manual labeling)**

---

## **Installation**
### Prerequisites
1. **Python**: Requires Python `3.12.*`. Install it from [Python.org](https://www.python.org/).
2. **PDM**: Install PDM (Python Dependency Manager) globally:
   ```bash
   pip install pdm
   ```

### Clone the Repository
```bash
git clone https://github.com/<your-github-username>/Classification-of-DEMPE-functions.git
cd Classification-of-DEMPE-functions
```

### Install Dependencies
Use PDM to install dependencies:
```bash
pdm install
```

---

## **Usage**
After installation, the CLI tool can be accessed using the `pdm run` command or by running `cli.py` directly.

### **1. Fetch Commits**
Fetch commit data from GitHub repositories listed in a JSON file.

#### **Input**
A JSON file (e.g., `repos.json`) containing repository details:
```json
[
    {
        "repo_name": "https://github.com/owner/repo1",
        "owner": "owner",
        "token": "your_personal_access_token"
    },
    {
        "repo_name": "https://github.com/owner/repo2",
        "owner": "owner",
        "token": "your_personal_access_token"
    }
]
```

#### **Command**
Run the following command:
```bash
pdm run c fetch-commits --input-file repos.json
```

#### **Output**
- JSON files for each repository are saved in the `data/raw_data` directory.
- Example output:
  - `data/raw_data/repo1.json`
  - `data/raw_data/repo2.json`

---

### **2. Extract Commit Messages**
Extract commit messages from the JSON files generated by the `fetch-commits` command and save them in a CSV file.

#### **Command**
Run the following command:
```bash
pdm run c extract-raw-commit-messages
```

#### **Output**
- A CSV file containing commit messages is saved in the `data/csv_data` directory.
- Example file: `data/csv_data/raw_commit_messages.csv`

#### **CSV Format**
The CSV file will have the following columns:
| Serial Number | Commit Message                                      | Label |
|---------------|-----------------------------------------------------|-------|
| 1             | "Initial commit"                                    |       |
| 2             | "Added new feature for data processing"             |       |
| 3             | "Fixed issue with API response handling"            |       |

---

## **Directory Structure**
```
Deterministic-Classification-of-Accounting-Functions-in-Code-Contributions/
├── cli.py                          # Main CLI entry point
├── commands/
│   ├── fetch_commits.py            # Command to fetch commits
│   ├── extract_raw_commits.py      # Command to extract commit messages
├── data/
│   ├── raw_data/                   # Directory for fetched JSON commit data
│   ├── csv_data/                # Directory for processed CSV files
├── pyproject.toml                  # PDM configuration
├── README.md                       # Documentation
```

---

## **Contributing**
1. Fork the repository.
2. Create a new branch:
   ```bash
   git checkout -b feature/your-feature-name
   ```
3. Make your changes and commit them:
   ```bash
   git commit -m "Add your message here"
   ```
4. Push to your fork:
   ```bash
   git push origin feature/your-feature-name
   ```
5. Create a pull request.

---

## **License**
This project is licensed under the **MIT License**. See the `LICENSE` file for details.

---

### **Contact**
For any questions or issues, feel free to reach out to **Arni Islam** at [arniislam03@gmail.com](mailto:arniislam03@gmail.com).

